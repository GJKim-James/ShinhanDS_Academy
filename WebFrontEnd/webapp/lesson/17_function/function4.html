<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>function4</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	<script type="text/javascript">
		function myDisplayer(something) {
			// 전달 받은 값을 화면에 출력
			document.getElementById("demo").innerHTML = something;
		}
		function myCalculator(num1, num2, myCallback) {
			// 값 2개와 함수를 받아서 계산 결과와 받은 함수를 실행
			let sum = num1 + num2;
			myCallback(sum);
		}
		
		function call() {
			// 값 2개와 무엇을 할 지 함수를 보낸다.
			myCalculator(5, 5, myDisplayer);
		}
		
		function f_timer() {
			// 함수를 받아서 함수를 실행하는 자바스크립트 함수이다.
			timer = setInterval(myFunction, 1000);
		}
		
		function myFunction() {
			document.querySelector("#demo").innerHTML += "<br>" + new Date();
		}
		
		function f_stop() {
			clearInterval(timer);
		}
		
		function call2() {
			const add = (function () {
				let counter = 0;
				
				return function () {counter += 1; return counter}
			})();
			
			document.querySelector("#demo").innerHTML = "개발자 도구 Console 확인!";

			console.log(add());
			console.log(add());
			console.log(add());
		}
		
		function call3() {
			var url = "http://localhost:9090/appleShop/emp/empRegister.jsp?fname=신한";
			
			var result = encodeURIComponent(url);
			document.querySelector("#demo").innerHTML = "encode : " + result;
			result = decodeURIComponent(result);
			document.querySelector("#demo").innerHTML += "<br>decode : " + result;
		}
		
		function call4() {
			var str = "1000원";
			
			document.querySelector("#demo").innerHTML = "Number 사용 시 : " + (Number(str) + 2000);
			// parseInt() : "원" 빼고 숫자만 변환
			document.querySelector("#demo").innerHTML += "<br>parseInt 사용 시 : " + (parseInt(str) + 2000);
		}
		
		function call5() {
// 			document.querySelector("#demo").innerHTML = f_param(10, 20, 30);
			document.querySelector("#demo").innerHTML = f_param(10);
		}
		
		// 숫자 + undefined => NaN
		// dafault 값 설정1
		function f_param(a, b, c) {
			if (!b) b = 200; // b 값이 없으면 200으로 설정
			if (!c) c = 200;
			
			return a + b + c;
		}
		
		// dafault 값 설정2
		function f_param(a, b, c) {
			b = b || 201; // b 값이 있으면 b 그대로 사용, 없으면 201로 설정
			c = c || 301;
			
			return a + b + c;
		}
		
		// dafault 값 설정3; 파라미터에서 초기값 설정
		function f_param(a, b = 202, c = 302) {
			return a + b + c;
		}
		
		function call6() {
			add(1, 2, 3);
			
			var arr = [10, 20, 30];
			add(...arr);
		}
		
		function add() {
			document.querySelector("#demo").innerHTML = arguments[0] + arguments[1] + arguments[2];
		}
		
		function add(...arr) {
			document.querySelector("#demo").innerHTML += "<br>...arr : " + (arr[0] + arr[1] + arr[2]);
		}
	</script>
	<script type="text/javascript" src="external.js"></script>
</head>
<body>
	<h1>JavaScript Function</h1>
	<hr>
	
	<button onclick="call()" class="btn btn-primary">콜백 함수</button>
	<button onclick="f_timer()" class="btn btn-primary">콜백 함수(현재 시각 출력)</button>
	<button onclick="f_stop()" class="btn btn-primary">현재 시각 출력 중지</button>
	<button onclick="call2()" class="btn btn-primary">클로저</button>
	<button onclick="call3()" class="btn btn-primary">인코딩</button>
	<button onclick="call4()" class="btn btn-primary">문자 -> 숫자</button>
	<button onclick="call5()" class="btn btn-primary">매개변수(default 설정)</button>
	<button onclick="call6()" class="btn btn-primary">전개 연산자</button>
	<hr>

	<div id="demo">결과 표시 영역</div>
	<hr>

	<img alt="sunset" src="../../resources/images/sunset.jpg">
	<hr>
</body>
</html>